<%# Turbo Stream response for event update %>
<%= turbo_stream.replace dom_id(@event) do %>
  <%= render @event %>
<% end %>

<%= turbo_stream.update "modal" do %>
  <div class="fixed inset-0 bg-theme-background/80 flex items-center justify-center p-4" data-controller="modal">
    <div class="bg-theme-surface rounded-[15px] p-6 max-w-md w-full">
      <div class="flex items-center gap-3 mb-4">
        <div class="w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
          </svg>
        </div>
        <div>
          <h3 class="font-semibold text-theme-text">Event Updated</h3>
          <p class="text-sm text-theme-secondary"><%= @event.title %> has been updated.</p>
        </div>
      </div>
      <button type="button" class="btn btn-primary w-full" data-action="modal#close">Close</button>
    </div>
  </div>
<% end %>

<%= turbo_stream.replace "calendar-frame" do %>
  <%= render "calendar/month_view", date: @event.start_at.to_date, events: Event.visible_to(current_user).between(@event.start_at.beginning_of_month, @event.start_at.end_of_month) %>
<% end %>
